---
import Layout from "./Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
---

<Layout>
    <Navbar />
    <main>
        <slot />
    </main>
    <Footer />
    <button
        id="scrollToTop"
        class="opacity-0 fixed bottom-0 right-0 m-3 bg-primary w-10 h-10 flex justify-center items-center rounded transition-all duration-500 shadow-lg shadow-yellow-500/50 dark:shadow-lg dark:shadow-yellow-800/80"
    >
        <i class="fa-solid fa-arrow-up text-dark text-base"></i>
    </button>
</Layout>

<script is:inline>
    const scrollToTopBtn = document.getElementById("scrollToTop");
    window.onscroll = () => {
        if (window.scrollY >= 50) {
            scrollToTopBtn.classList.remove("opacity-0");
            scrollToTopBtn.classList.add("opacity-100");
        } else {
            scrollToTopBtn.classList.remove("opacity-100");
            scrollToTopBtn.classList.add("opacity-0");
        }
    };

    window.onload = () => {
        if (window.scrollY >= 50) {
            scrollToTopBtn.classList.remove("opacity-0");
            scrollToTopBtn.classList.add("opacity-100");
        } else {
            scrollToTopBtn.classList.remove("opacity-100");
            scrollToTopBtn.classList.add("opacity-0");
        }
    };

    scrollToTopBtn.onclick = () => {
        window.scrollTo({
            top: 0,
            behavior: "smooth",
        });
    };
</script>
